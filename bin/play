#!/bin/bash
#
# Play audio files with synchronized lights.  Supports
# midi, mp3, wav, ogg, wma, etc...
#
# Sample Usage:
#
# play /home/pi/music/*
# play /home/pi/music/jingle_bells.mp3
#
# Author: Todd Giles (todd.giles@gmail.com)

midi_off

for f in $@
do
  filename=$(basename "$f")
  extension="${f##*.}"
  if [ "$extension" = "mid" ]
  then
    play_midi "$f"
  else
    sudo python /home/pi/py/synchronized_lights.py --file="$f"
  fi
done

lights_off
